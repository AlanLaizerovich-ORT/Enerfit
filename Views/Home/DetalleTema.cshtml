@model Tema
@{
    ViewData["Title"] = "Tema";
    var respuestas = ViewBag.Respuestas as List<Respuestas>;
}

<h2 class="titulo">@Model.Titulo</h2>

<div class="tema-detalle-container">

    <div class="tema-card">
        <p>@Model.Contenido</p>
        <small>Publicado el @Model.Fecha.ToString("dd/MM/yyyy HH:mm")</small>
    </div>

    <h3 class="subtitulo">Respuestas</h3>

    <div class="respuestas-container">
        @if (respuestas != null && respuestas.Count > 0)
        {
            foreach (var r in respuestas)
            {
                <div class="respuesta-card">
                    <p>@r.Contenido</p>
                    <small>@r.Fecha.ToString("dd/MM/yyyy HH:mm")</small>
                </div>
            }
        }
        else
        {
            <p class="sin-respuestas">No hay respuestas aún. ¡Sé el primero en responder!</p>
        }
    </div>

    <h4 class="subtitulo">Responder este tema</h4>

    <form method="post" action="/Home/CrearRespuesta" class="respuesta-form">
        <input type="hidden" name="idTema" value="@Model.Id" />

        <textarea name="contenido" rows="4" required></textarea>

        <button type="submit" class="btn-primary">Enviar respuesta</button>
    </form>

    <div class="volver-container">
        <a href="/Home/Foro" class="btn-secondary">Volver al foro</a>
    </div>

</div>
